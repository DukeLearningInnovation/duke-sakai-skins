@import "duke-colors";

$font-family-url: "https://fonts.googleapis.com/css?family=Open+Sans:400,500,600,700";
$font-family: "Open Sans",sans-serif;
$default-font-size: 14px;
$standard-spacing: 16px;

$background-color: $white;
$background-color-secondary: $navy;

$primary-color: $bay;
$primary-color-light: $frenchpass;
$primary-color-highContrast: darken( $primary-color, 4% );	// for use of primary on non-white light backgrounds, such as greys
$primary-color-shadow: adjust-hue( $primary-color, 5 );	// To give primary a darker shadow
$background-color: $white;
$body-background-color: $white;
$secondary-color: $royal;
$alt-colour: $persimmon;
$text-color: #212121;
$link-color: $primary-color;
$sakai-border-color: #e5e5e5;
$logo: 'images/logo-duke-u@2x.png';
$logo-width: 81px;

$tool-tab-background-color: $white;
$tool-tab-border-color: transparent;
$tool-tab-active-border-color: $limestone;

$tool-menu-collapse-shadow: none;
$tool-menu-collapse-background-color: $dodger;
$tool-menu-collapse-text-color: $white;
$tool-menu-collapse-icon-color: $white;
$tool-menu-collapse-hover-text-color: $white;
$tool-menu-collapse-hover-background-color: $royal;

$errorBanner-bordercolor: #d73941;
$errorBanner-bgcolor: #f1d3d3;
// $errorBanner-color: $text-color;

$swapped-view-enabled: true;
$swapped-view-primary: $copper;

//Built to be used for box-shadow
//https://material-components.github.io/material-components-web-catalog/#/component/elevation
$material-elevation-1dp: 0 2px 1px -1px rgba(0,0,0,.2), 0 1px 1px 0 rgba(0,0,0,.14), 0 1px 3px 0 rgba(0,0,0,.12);
$material-elevation-2dp: 0 3px 1px -2px rgba(0,0,0,.2), 0 2px 2px 0 rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12);
$material-elevation-3dp: 0 3px 3px -2px rgba(0,0,0,.2), 0 3px 4px 0 rgba(0,0,0,.14), 0 1px 8px 0 rgba(0,0,0,.12);
$material-elevation-4dp: 0 2px 4px -1px rgba(0,0,0,.2), 0 4px 5px 0 rgba(0,0,0,.14), 0 1px 10px 0 rgba(0,0,0,.12);
$material-elevation-5dp: 0 3px 5px -1px rgba(0,0,0,.2), 0 5px 8px 0 rgba(0,0,0,.14), 0 1px 14px 0 rgba(0,0,0,.12);
$material-elevation-6dp: 0 3px 5px -1px rgba(0,0,0,.2), 0 6px 10px 0 rgba(0,0,0,.14), 0 1px 18px 0 rgba(0,0,0,.12);
$material-elevation-7dp: 0 4px 5px -2px rgba(0,0,0,.2), 0 7px 10px 1px rgba(0,0,0,.14), 0 2px 16px 1px rgba(0,0,0,.12);
$material-elevation-8dp: 0 5px 5px -3px rgba(0,0,0,.2), 0 8px 10px 1px rgba(0,0,0,.14), 0 3px 14px 2px rgba(0,0,0,.12);

$sites-nav-submenu-top: $standard-spacing;
$tool-menu-padding: calc(#{$standard-spacing} / 2) 0 0 0;

$material-menu-padding: calc( #{$standard-spacing} / 2) 0;
$material-menu-item-padding: calc(#{$standard-spacing} / 2) $standard-spacing;


// @if $portal-as-material
    $primary-color: $bay;
    $secondary-color: $royal;
    $background-color: $white;
    $body-background-color: $white;
    $top-header-background: $primary-color;
    $tool-menu-background-color: $body-background-color;
    $sites-nav-background: $body-background-color;
    $footer-background-color: $body-background-color;

// @if $sites-nav-as-material
    $divider-shadow-fixed: 0 1px 0 $sakai-border-color;
    $sites-nav-menu-item-border-thickness: 1px;
    $sites-nav-menu-item-border-radius: $standard-spacing;
    
    $sites-nav-menu-item-background: hsl(240, 4%, 95%);
    $sites-nav-menu-item-color: $text-color;
    $sites-nav-menu-item-border-color: $sites-nav-menu-item-background;
    $sites-nav-menu-item-border-top:            $sites-nav-menu-item-border-thickness solid $sites-nav-menu-item-border-color;
    $sites-nav-menu-item-border-right:          $sites-nav-menu-item-border-top;
    $sites-nav-menu-item-border-bottom:         $sites-nav-menu-item-border-top;
    $sites-nav-menu-item-border-left:           $sites-nav-menu-item-border-top;
    
    $sites-nav-menu-item-hover-background: hsl(210, 4%, 89%);
    $sites-nav-menu-item-hover-color:$text-color;
    $sites-nav-menu-item-hover-border-color:      $sites-nav-menu-item-hover-background;
    $sites-nav-menu-item-hover-border-top:      $sites-nav-menu-item-border-thickness solid $sites-nav-menu-item-hover-border-color;
    $sites-nav-menu-item-hover-border-right:    $sites-nav-menu-item-hover-border-top;
    $sites-nav-menu-item-hover-border-bottom:   $sites-nav-menu-item-hover-border-top;
    $sites-nav-menu-item-hover-border-left:     $sites-nav-menu-item-hover-border-top;
    
    $sites-nav-menu-item-selected-background: $frenchpass;
    $sites-nav-menu-item-selected-color: $navy;
    $sites-nav-menu-item-selected-border-color: $sites-nav-menu-item-selected-background;
    $sites-nav-menu-item-selected-border-top:   $sites-nav-menu-item-border-thickness solid $sites-nav-menu-item-selected-border-color;
    $sites-nav-menu-item-selected-border-bottom:$sites-nav-menu-item-selected-border-top;
    $sites-nav-menu-item-selected-border-left:  $sites-nav-menu-item-selected-border-top;
    $sites-nav-menu-item-selected-border-right: $sites-nav-menu-item-selected-border-top;
    
    $sites-nav-menu-item-selected-hover-background: $primary-color;
    $sites-nav-menu-item-selected-hover-color: $white;
    $sites-nav-menu-item-selected-hover-border-color: $sites-nav-menu-item-selected-hover-background;
    $sites-nav-menu-item-selected-hover-border-top:   $sites-nav-menu-item-border-thickness solid $sites-nav-menu-item-selected-hover-border-color;
    $sites-nav-menu-item-selected-hover-border-right: $sites-nav-menu-item-selected-hover-border-top;
    $sites-nav-menu-item-selected-hover-border-bottom:$sites-nav-menu-item-selected-hover-border-top;
    $sites-nav-menu-item-selected-hover-border-left:  $sites-nav-menu-item-selected-hover-border-top;
    
    $sites-nav-selected-submenu-border-color: #fff;
    $sites-nav-selected-submenu-border-color: transparent;
    $sites-nav-selected-submenu-border: none; 
    $sites-nav-submenu-border: none;
    $sites-nav-submenu-item-left-border: none;
    $sites-nav-submenu-item-padding: $material-menu-item-padding;
    $sites-nav-submenu-padding: $material-menu-padding;
    $sites-nav-submenu-shadow: $material-elevation-8dp;
    $sites-nav-submenu-top: -#{$standard-spacing}; //fallback to calc( #{$default-font-size} + #{$sites-nav-menu-item-border-thickness})

// @if $tool-menu-as-material
    $tool-menu-width: 200px + $standard-spacing;
    $tool-menu-width-collapsed: 52px;
    $tool-menu-item-separator-color: #fff;
    $tool-menu-item-background-color: #fff;
    $tool-menu-item-border-left: none;
    $tool-menu-item-margin-right: calc(#{$standard-spacing} / 2);
    $tool-menu-item-hover-text-color: $sites-nav-menu-item-hover-color;
    $tool-menu-item-hover-icon-color: $sites-nav-menu-item-hover-color;
    $tool-menu-item-hover-background-color: $sites-nav-menu-item-hover-background;
    $tool-menu-item-hover-border-left: $tool-menu-item-border-left;
    $tool-menu-item-selected-text-color: $navy;
    $tool-menu-item-selected-icon-color: $bay;
    $tool-menu-item-selected-background-color: $frenchpass;
    $tool-menu-item-selected-border-left: $tool-menu-item-border-left;
    $tool-menu-item-selected-hover-text-color: $white;
    $tool-menu-item-selected-hover-icon-color: $white;
    $tool-menu-item-selected-hover-border-left: $tool-menu-item-hover-border-left;
    $tool-menu-item-selected-hover-background-color: $primary-color;
    $tool-menu-item-border-radius: 0 calc(#{$standard-spacing} * 1.5) calc(#{$standard-spacing} * 1.5) 0;
     
    $tool-menu-item-padding: calc( #{$standard-spacing} / 2) 0 calc( #{$standard-spacing} / 2) $standard-spacing;
    $tool-menu-item-collapsed-padding: $tool-menu-item-padding;
    $tool-lessons-toplevel-menu-icon-padding: $material-menu-item-padding;
    $tool-lessons-toplevel-menu-text-padding: $material-menu-item-padding;
    $tool-lessons-toplevel-menu-selected-background-color: $tool-menu-item-background-color;
    $tool-lessons-toplevel-menu-expanded-background-color: $tool-menu-background-color;
    $tool-lessons-toplevel-menu-expanded-selected-background-color:$tool-menu-background-color;
    $tool-lessons-toplevel-menu-expanded-selected-color: $tool-menu-item-selected-text-color;
    $tool-lessons-toplevel-menu-sliding-background-color: $tool-menu-item-hover-background-color;
    $tool-lessons-toplevel-menu-sliding-text-color: $tool-menu-item-hover-text-color;
    $tool-lessons-subpage-menu-text-padding: calc(#{$standard-spacing} / 2) $standard-spacing calc(#{$standard-spacing} / 2) calc(#{$standard-spacing} * 2);
    $tool-lessons-subpage-menu-selected-background-color: $tool-menu-item-selected-background-color;
    $tool-lessons-subpage-menu-selected-parent-background-color: $tool-menu-item-background-color;
    $tool-lessons-subpage-menu-expanded-background-color: $tool-menu-item-background-color;
    $tool-lessons-subpage-menu-border-radius: 0 $standard-spacing $standard-spacing 0;

// @if $buttons-as-material
    /* General button design */
    $button-radius: 4px;
    $button-text-transform: none;

    // Default (non-primary) button design:
    $button-text-color: $navy;
    $button-background: $hatteras;
    $button-border-color: $button-background;
    $button-font-weight: 500;
    $button-shadow: none;
    // hover and focus states:
    $button-hover-text-color: $white;
    $button-hover-background: $primary-color;
    $button-hover-border-color: $button-hover-background;
    $button-hover-shadow: none;
    // active state:
    $button-active-text-color: $button-hover-text-color;
    $button-active-background: darken($button-hover-background, 6%);
    $button-active-border-color: $button-hover-border-color;
    $button-active-shadow-color: rgba(0,0,0,0);
    $button-active-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.8), 0 1px 2px rgba(0,0,0,.1);;
    // disabled state:
    $button-disabled-text-color:    #717171;
    $button-disabled-background:    #f6f6f6;
    $button-disabled-border-color:  #dbdbdb;
    $button-disabled-shadow:        none;
    $button-disabled-font-weight:   400;

    // Primary action button design:
    $button-primary-text-color:                 #fff;
    $button-primary-background:                 $primary-color;
    $button-primary-border-color:               $primary-color;
    $button-primary-text-transform: none;
    $button-primary-font-weight: 700;
    $button-primary-shadow: $material-elevation-2dp;
 
    // hover and focus states for primary action button:
    $button-primary-hover-text-color:           $button-primary-text-color;
    $button-primary-hover-background:           darken($button-primary-background, 6%);
    $button-primary-hover-border-color:         darken($button-primary-background, 6%);;
    $button-primary-hover-shadow: $material-elevation-4dp;
    // active state for primary action button:
    $button-primary-active-text-color:          $button-primary-text-color;
    $button-primary-active-background:          darken($button-primary-background, 10%);
    $button-primary-active-border-color:        darken($button-primary-background, 10%);
    $button-primary-active-shadow-color:        $button-active-shadow-color;
    $button-primary-active-shadow:              $material-elevation-3dp, inset 0 0 0 1px rgba(255, 255, 255, 0.8), 0 1px 2px rgba(0,0,0,.1);;

// @if $top-header-as-material
    $top-header-separators-thickness: 0px;
    $top-header-profile-border-thickness: 2px;
    $top-header-item-spacing: calc(#{$standard-spacing} / 2);
    $top-header-text-display: none;
    $top-header-icon-size: calc(#{$standard-spacing} * 2);
    $top-header-sites-padding-top: 6px;
    $top-header-profile-border-color-top: $magnolia;
    $top-header-profile-border-color-right: $magnolia;
    $top-header-profile-border-color-bottom: $alt-colour;
    $top-header-profile-border-color-left: darken($navy, 10%);
    $top-header-profile-border-color-inner: #fff;

// @if $cards-as-material
    $overview-portlet-border: none;
    $overview-portlet-border-radius: 4px;
    $overview-portlet-shadow: $material-elevation-1dp;

// @if $lessons-as-material
    $lessons-column-border:none;
    $lessons-item-border-top: 1px solid $sites-nav-menu-item-background;
    $lessons-item-hover-background: #fff;
    $lessons-item-hover-shadow: $material-elevation-4dp;
    $lessons-item-edit-display: none;
// end material-defaults

.printTable pre {
    overflow-x: auto;
    white-space: pre-wrap;
    word-wrap: break-word;
    background-color: transparent;
} 

// BECOME USER
$become-user-primary: $ironweed;

// distinguish different servers visually
body.duke-sakai-test-duke-edu {
    .Mrphs-mainHeader .Mrphs-headerLogo--institution {
        &:after {
            content: "TEST SERVER";
            background: $piedmont;
            padding: 8px 16px;
            font-weight: 700;
            color: $castiron;
            font-size:.8em;
            display: inline-block;
            height: 52px;
            margin-left: calc(#{$logo-width} + #{$standard-spacing});
        }
        
    }
}

$button-transition: background .1s cubic-bezier(0.65, 0.05, 0.36, 1), color .1s cubic-bezier(0.65, 0.05, 0.36, 1);
$button-transition:none;
$button-primary-transition: none;

// Worksite setup styles
.Mrphs-sakai-siteinfo,
.Mrphs-sakai-sitesetup {
    #siteTypeList {
        background:$primary-color-light;
        margin:0 0 $standard-spacing;
        padding: $standard-spacing;
    }
}

#jqueryui-accordion .ui-accordion-content {
    background:none;
}

button.ui-datepicker-trigger:focus,
button.ui-datepicker-trigger:hover {
    .fa {
        color:$white;
    }
}
.Mrphs-container--footer{
    .Mrphs-footer--project {
        display:none;
    }
}

// DUKE-193
$jumbotron-heading-font-size: 42px;

// DUKE-182
$calendar-event-background-color: $hatteras;

// DUKE-204
.duke-20x-sakai-localhost #lti_1,
.duke-sakai-test-duke-edu #lti_37,
.duke-sakai-duke-edu #lti_260 {
    display:none;
}

.duke-20x-sakai-localhost .Mrphs-sakai-siteinfo #toolHolder #lti_1_wrap label,
.duke-sakai-test-duke-edu .Mrphs-sakai-siteinfo #toolHolder #lti_37_wrap label,
.duke-sakai-duke-edu .Mrphs-sakai-siteinfo #toolHolder #lti_260_wrap label {
    margin-left: 20px;
}

// DUKE-225
.Mrphs-toolTitleNav {
    sakai-maximise-button {

        a.Mrphs-toolTitleNav__link {
            fa-icon {
                font: normal normal normal 16px/1 FontAwesome;
            }
        }
    }
    
}

//DUKE-229
body.project .Mrphs-sakai-siteinfo {
    .add-official-1,
    .add-official-instruction {
        display:none;
    }
}

//DUKE-245
$rubrics-popover-cancel-color: $button-text-color;
$rubrics-popover-cancel-color--hover: $button-hover-text-color;
$rubrics-popover-cancel-background--hover: $button-hover-background;
$rubrics-popover-cancel-color--active: $button-active-text-color;
$rubrics-popover-cancel-background--active: $button-active-background;

// DUKE-259
#toolMenu .icon-sakai--sakai-conversations+.Mrphs-toolsNav__menuitem--title::after,
.icon-sakai--sakai-conversations+.Mrphs-breadcrumb--toolNameText::after,
.Mrphs-sakai-siteinfo #sakai_conversations_wrap::after,
#reorder-list .icon-sakai--sakai-conversations::after {
    background: $ironweed;
    color: $white;
    content: "beta";
    display: inline-block;
    position: absolute;
    top: 4px;
    right: 4px;
    border-radius: 16px;
    padding: 4px 8px;
    margin: 0;
    font-weight: 400;
    font-style: normal;
    font-size: .75em;
    font-family: $font-family;
}
#toolMenu .icon-sakai--sakai-conversations+.Mrphs-toolsNav__menuitem--title::after {
    top: 7px;
}

#toolMenu .is-invisible .icon-sakai--sakai-conversations+.Mrphs-toolsNav__menuitem--title::after {
    right: 26px;
}
.Mrphs-toolMenu-collapsed #toolMenu .icon-sakai--sakai-conversations+.Mrphs-toolsNav__menuitem--title::after {
    position: relative;
    display: inline;
    margin-left: 8px;
    top:-3px;
    right: 0;
    padding: 0 8px;
}
.Mrphs-siteHierarchy .icon-sakai--sakai-conversations+.Mrphs-breadcrumb--toolNameText::after {
    text-transform: lowercase;
    position: relative;
    top: -2px;
    right: 0;
    margin-left: 8px;

}
.Mrphs-sakai-siteinfo #sakai_conversations_wrap::after {
    position: relative;
    display: inline-block;
    top: 0;
    right: 0;
}
#reorder-list .icon-sakai--sakai-conversations::after {
    left: 155px;
    right: auto;
    top: 2px;
}
#conv-search-field {
    display:none;
}

// Duke-262
.textPanel, //default
.message-body, //announcements
.textbox, //lessons text
.commentBody, //lessons comment
.itemSummary, //calendar
.commons-post-body, //commons
.siteDescription, //overview
.Mrphs-sakai-poll .portletBody, //polls
.Mrphs-sakai-signup .longtext, //signup
.Mrphs-sakai-syllabus .ui-accordion-content, //syllabus
.Mrphs-sakai-samigo .portletBody //samigo
 {
    h1 {
        font-size: 2.2em;
    }
    h2 {
        font-size: 2em;
    }
    h3 {
        font-size: 1.8em;

    }
    h4 {
        font-size: 1.6em;
    }
    h5 {
        font-size: 1.4em;
    }
    #jqueryui-accordion h3 {
        font-size: 100%;
    }
    .bg-navy,
    .bg-copper,
    .bg-dandelion,
    .bg-piedmont,
    .bg-magnolia,
    .bg-ironweed,
    .bg-primary,
    .bg-info,
    .bg-warning,
    .bg-danger,
    .bg-success {
        padding: 5px;
        border-radius: 4px;
        &,
        &[style],
        span[style] {
            color: $text-color;
        }
    }

    .bg-navy {
        background: $navy;
    }
    .bg-copper {
        background: $copper;
    }
    .bg-dandelion {
        background: $dandelion;
    }
    .bg-piedmont {
        background: $piedmont;
    }
    .bg-magnolia {
        background: $magnolia;
    }
    .bg-ironweed {
        background: $ironweed;
    }
    .bg-primary {
        background-color: $primary-color;
    }
    .bg-dimmed {
        background-color: $hatteras;
    }
    .bg-danger {
        // background-color: $sakai-red;
    }
    .bg-ironweed,
    .bg-copper,
    .bg-navy,
    .bg-primary,
    // .bg-danger,
    .bg-magnolia {
        &,
        &[style],
        span[style] {
            color: #fff;
        }
    }
}
.cke.cke_combopanel {
    width: 360px;
    height: 440px;
}
.cke_panel_container .cke_panel_block {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    grid-template-rows: 30px auto;
    grid-gap: 10px;
    h1 {
        grid-row-start: 1;
        line-height: 30px;
        padding: 0 0 0 5px;
        font-size: 14px;
    }
    ul {
        grid-row-start: 2;
    }
}

.Mrphs-sakai-samigo button.partLink:active,
.Mrphs-sakai-samigo button.partLink:focus,
.Mrphs-sakai-samigo button.partLink:hover {
    background: $button-background;
}
